<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ingresos Extra desde Casa | Gana Dinero Online en Canarias</title>
  <meta name="description" content="Oportunidades flexibles de ingresos adicionales para residentes en las Islas Canarias. Tareas online con pagos diarios. Regístrate ahora para obtener más información." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" as="style">
  <link rel="preload" href="https://flagcdn.com/w20/es.png" as="image">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17524303243"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17524303243');
  </script>

  <!-- Event snippet for 提交潜在客户表单 (1) conversion page -->
  <script>
  function gtag_report_conversion(url) {
    var callback = function () {
      if (typeof(url) != 'undefined') {
        window.location = url;
      }
    };
    gtag('event', 'conversion', {
        'send_to': 'AW-17524303243/yAFECLvE564bEIvLnqRB',
        'event_callback': callback
    });
    return false;
  }
  </script>
  
  <style>
    :root{
      --bg:#0b0f14;
      --card:#111827;
      --muted:#9aa3af;
      --text:#e5e7eb;
      --white:#ffffff;
      --orange:#ff7a1a;
      --orange-600:#e96e15;
      --orange-300:#ffa057;
      --green:#19c37d;
      --blue:#3b82f6;
      --red:#ef4444;
      --yellow:#fbbf24;
      --ring: 0 0 0 3px rgba(255,122,26,.25);
      --radius:12px;
      --transition: all 0.3s ease;
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:#070a0f;color:var(--text);font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;line-height:1.4; font-size: 15px;}
    img{max-width:100%;display:block}
    a{color:var(--text);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{width:min(1120px,92%);margin-inline:auto}

    .nav{position:sticky;top:0;z-index:50;background:rgba(7,10,15,.95);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.06)}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:10px 0}
    .brand{font-weight:800;letter-spacing:.3px;font-size:1.2rem; display: flex; align-items: center; gap: 8px;}
    .brand:before {content: "🇮🇨";}
    .nav-links{display:flex;gap:16px;align-items:center}
    .nav-link{opacity:.85; transition: var(--transition); font-size: 0.95rem;}
    .nav-link:hover{opacity:1; color: var(--orange);}

    /* Mobile menu styles */
    .mobile-menu-btn {display: none; background: none; border: none; color: var(--text); font-size: 1.5rem; cursor: pointer; padding: 5px;}
    .mobile-menu {display: none; position: absolute; top: 100%; right: 0; background: var(--card); border: 1px solid rgba(255,255,255,.1); border-radius: var(--radius); padding: 10px; min-width: 150px; z-index: 100;}
    .mobile-menu.active {display: block;}
    .mobile-menu a {display: block; padding: 10px; border-radius: 6px;}
    .mobile-menu a:hover {background: rgba(255,122,26,0.1);}

    .btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:10px;border:0;font-weight:600;cursor:pointer;transition:var(--transition); font-size: 0.95rem;}
    .btn-lg{padding:12px 28px;font-size:1.05rem;}
    .btn-block{width:100%}
    .btn-orange{background:var(--orange);color:#0b0f14; box-shadow: 0 4px 10px rgba(255, 122, 26, 0.25);}
    .btn-orange:hover{background:var(--orange-600); transform: translateY(-2px); box-shadow: 0 6px 14px rgba(255, 122, 26, 0.35);}
    .btn-secondary {background:#19c37d; color: var(--text);}
    .btn-secondary:hover {background:#15a86d;}
    .btn-outline {background: transparent; border: 1px solid var(--muted); color: var(--text);}
    .btn-outline:hover {border-color: var(--orange); color: var(--orange);}
    .btn:focus{outline:none;box-shadow:var(--ring)}
    .btn:disabled {opacity: 0.7; cursor: not-allowed;}
    
    .hero{position:relative;padding:30px 0 30px; overflow: hidden;}
    .hero-grid{display:grid;grid-template-columns:1.15fr .85fr;gap:32px;align-items:stretch}
    .hero-copy h1{font-size:38px;margin:0 0 10px; line-height: 1.2; font-weight: 800;}
    .subtitle{color:var(--muted);max-width:48ch;margin-bottom:14px; font-size: 1.05rem;}
    .hero-points{list-style:none;padding:0;margin:20px 0 0;display:grid;gap:10px;color:#cfd5dd; font-weight: 500;}
    .hero-points li {display: flex; align-items: center; gap: 8px; font-size: 0.95rem;}
    .hero-points li:before {content: "✓"; color: var(--green); font-weight: bold;}
    
    .urgency-badge {display: inline-block; background: var(--orange); color: white; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; margin-bottom: 10px; animation: pulse 2s infinite;}
    
    .hero-bg{position:absolute;inset:0;z-index:-1;background:
        linear-gradient(180deg,rgba(11,15,20,.85),rgba(11,15,20,.95)),
        url('https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80') center/cover no-repeat;}

    .logos{display:flex;flex-wrap:wrap;gap:10px;margin-top:20px; align-items: center;}
    .logo{font-size:13px;padding:8px 14px;border:1px dashed rgba(255,255,255,.15);border-radius:10px;color:#cfd5dd;background:rgba(255,255,255,.03); transition: var(--transition);}
    .logo:hover {transform: translateY(-2px); border-color: var(--orange); color: var(--white);}

    .form-card{background:var(--card);border:1px solid rgba(255,255,255,.1);border-radius:var(--radius);padding:24px; box-shadow: 0 16px 32px rgba(0,0,0,0.2); position: relative;}
    .form-card:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--orange), var(--green));
        border-radius: var(--radius) var(--radius) 0 0;
    }
    .form-title{margin:0 0 8px; font-size: 22px;}
    .form-note{color:var(--muted);margin:0 0 14px;font-size:0.92rem; line-height: 1.5;}
    .field{margin-bottom:14px; position: relative;}
    .field.check{display:flex;align-items:flex-start; gap: 8px;}
    .field.check label {margin-bottom: 0; display: inline; font-weight: normal;}
    label{display:block;margin-bottom:6px;font-weight:600; font-size: 0.92rem;}
    .req{color:var(--green)}
    input,select{width:100%;background:#0c1220;color:var(--text);border:1px solid rgba(255,255,255,.15);border-radius:10px;padding:12px 14px;outline:none; font-family: inherit; font-size: 0.95rem; transition: var(--transition);}
    input:focus,select:focus{box-shadow:var(--ring);border-color:var(--orange); transform: translateY(-1px);}
    input.error {border-color: var(--red);}
    .error-text {color: var(--red); font-size: 0.85rem; margin-top: 5px; display: none;}
    .error-text.show {display: block;}
    .form-status{margin-top:14px;font-size:0.92rem; padding: 10px; border-radius: 8px; background: rgba(25, 195, 125, 0.1); border: 1px solid rgba(25, 195, 125, 0.2);}
    .form-status.success{color:#59d38c}
    .form-status.error{color:#ff8b8b; background: rgba(255, 139, 139, 0.1); border-color: rgba(255, 139, 139, 0.2);}

    /* Honeypot field */
    .hp-field {position: absolute; left: -9999px;}

    /* Phone input styles */
    .phone-input-group {display: flex;}
    .country-code {flex: 0 0 auto; background: rgba(255,255,255,0.05); padding: 12px 14px; border: 1px solid rgba(255,255,255,.15); border-right: none; border-radius: 10px 0 0 10px; display: flex; align-items: center;}
    .phone-input {border-radius: 0 10px 10px 0; flex: 1;}
    
    .progress-bar {display: flex; margin: 16px 0; gap: 6px;}
    .progress-step {flex: 1; height: 5px; background: rgba(255,255,255,0.1); border-radius: 3px;}
    .progress-step.active {background: var(--orange);}

    /* Modal styles */
    .modal {position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: all 0.3s ease;}
    .modal.active {opacity: 1; visibility: visible;}
    .modal-content {background: var(--card); border-radius: var(--radius); padding: 24px; max-width: 400px; width: 90%; text-align: center; position: relative;}
    .modal-title {font-size: 1.5rem; margin-bottom: 16px; color: var(--orange);}
    .modal-message {margin-bottom: 24px; line-height: 1.5;}
    .modal-buttons {display: flex; flex-direction: column; gap: 10px;}
    .modal-btn {background: var(--orange); color: #0b0f14; border: none; border-radius: 8px; padding: 10px 20px; font-weight: 600; cursor: pointer; transition: var(--transition);}
    .modal-btn:hover {background: var(--orange-600);}
    .modal-btn.secondary {background:#19c37d; color: var(--text);}
    .modal-btn.secondary:hover {background:#15a86d;}
    .modal-btn.outline {background: transparent; border: 1px solid var(--muted); color: var(--text);}
    .modal-btn.outline:hover {border-color: var(--orange); color: var(--orange);}

    /* Close button for modal */
    .modal-close { position: absolute; top: 10px; right: 12px; background: transparent; border: none; font-size: 22px; color: var(--muted); cursor: pointer; }
    .modal-close:hover { color: var(--text); }

    .section{padding:60px 0}
    .section.alt{background:#0b1220}
    h2{margin:0 0 14px;font-size:32px; font-weight: 800;}
    .muted{color:var(--muted); line-height: 1.5;}
    .small{font-size:0.88rem}
    
    .section-header {text-align: center; max-width: 700px; margin: 0 auto 40px;}
    
    .cards{display:grid;gap:20px}
    .two-col{grid-template-columns:repeat(2,minmax(0,1fr))}
    .three-col{grid-template-columns:repeat(3,minmax(0,1fr))}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:20px; transition: var(--transition);}
    .card:hover {transform: translateY(-3px); border-color: rgba(255,255,255,0.15); box-shadow: 0 8px 24px rgba(0,0,0,0.15);}
    .card-media{height:140px;border-radius:10px;background:linear-gradient(135deg,#152238,#1d2a44); position: relative; overflow: hidden; background-size: cover; background-position: center;}
    .card-media.media-pt {background-image: url('https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2069&q=80');}
    .card-media.media-ft {background-image: url('https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80');}
    .card-body h3{margin:14px 0 10px; font-size: 1.3rem;}
    
    .earnings-badge {background: var(--green); color: var(--bg); padding: 3px 10px; border-radius: 18px; font-weight: 700; font-size: 0.86rem; display: inline-block; margin-bottom: 10px;}
    
    .list{padding-left:0;margin:0;display:grid;gap:8px}
    .list li{margin-left:0; display: flex; align-items: flex-start; gap: 8px; font-size: 0.92rem;}
    .list li:before {content: "•"; color: var(--orange); font-weight: bold;}
    
    .bonus{text-align:center; position: relative;}
    .bonus-icon{font-size:32px;margin-bottom:10px; display: inline-flex; width: 60px; height: 60px; background: rgba(255,122,26,0.1); border-radius: 50%; align-items: center; justify-content: center;}
    .bonus:hover .bonus-icon {transform: scale(1.05); transition: var(--transition);}
    
    .requirements{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:14px}
    .req-item{display:flex;gap:10px;background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:14px; transition: var(--transition);}
    .req-item:hover {border-color: rgba(255,122,26,0.3); transform: translateY(-2px);}
    .req-icon{font-size:22px; color: var(--orange);}
    
    .benefits-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;align-items:center}
    .benefits-media{height:240px;border-radius:12px;background:
        radial-gradient(120px 120px at 30% 40%, #213250 0%, transparent 60%),
        linear-gradient(135deg,#1a2442,#122039); position: relative; overflow: hidden; background-image: url('https://images.unsplash.com/photo-1520333789090-1afc82db536a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2071&q=80'); background-size: cover; background-position: center;}
    .stats{list-style:none;padding:0;margin:0 0 14px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
    .stats li{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:14px;text-align:center; transition: var(--transition);}
    .stats li:hover {transform: translateY(-2px); border-color: rgba(255,122,26,0.3);}
    .stats strong {display: block; font-size: 1.6rem; color: var(--orange); margin-bottom: 4px;}
    
    .testimonial{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:20px;margin:0; position: relative; transition: var(--transition);}
    .testimonial:hover {transform: translateY(-2px); border-color: rgba(255,255,255,0.15);}
    .testimonial:before {
        content: """;
        position: absolute;
        top: 8px;
        left: 8px;
        font-size: 50px;
        color: rgba(255,122,26,0.2);
        font-family: Georgia, serif;
    }
    .testimonial p{margin:0 0 14px; font-style: italic; position: relative; z-index: 1; font-size: 0.95rem;}
    .testimonial footer {color: var(--orange); font-weight: 600; font-size: 0.92rem;}
    
    .avatar {width: 44px; height: 44px; border-radius: 50%; background: var(--orange); display: flex; align-items: center; justify-content: center; font-weight: 700; margin-bottom: 10px; font-size: 1.1rem;}
    
    .cta{background:linear-gradient(180deg,#0b1220,#0b0f14); padding: 60px 0; text-align: center;}
    .cta-inner{max-width: 700px; margin: 0 auto;}
    .cta h2 {margin-bottom: 14px;}
    
    .faq{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:16px;margin-bottom:14px; transition: var(--transition);}
    .faq:hover {border-color: rgba(255,255,255,0.15);}
    .faq summary{cursor:pointer; font-weight: 600; padding: 6px 0; font-size: 0.95rem;}
    .faq div {padding: 10px 0; color: var(--muted); font-size: 0.92rem;}
    
    .footer{border-top:1px solid rgba(255,255,255,.08);padding:32px 0 20px;background:#090d13}
    .footer-grid{display:flex;justify-content:space-between;gap:18px;align-items:flex-start; margin-bottom: 20px;}
    .footer-links{display:flex;gap:16px;flex-wrap:wrap}
    
    .security-badge {display: flex; align-items: center; gap: 8px; margin-top: 14px; padding: 10px; background: rgba(25, 195, 125, 0.1); border-radius: 8px; font-size: 0.86rem;}
    .security-badge svg {flex-shrink: 0; width: 18px; height: 18px;}
    
    .disclaimer {background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 12px; margin-top: 20px; font-size: 0.85rem;}
    
    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease forwards;
    }
    
    .delay-1 { animation-delay: 0.15s; }
    .delay-2 { animation-delay: 0.3s; }
    .delay-3 { animation-delay: 0.45s; }
    
    /* Pulse animation for CTA */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    /* Mobile responsiveness */
    @media (max-width: 980px){
      .hero-grid{grid-template-columns:1fr; gap: 28px;}
      .two-col{grid-template-columns:1fr; gap: 18px;}
      .three-col{grid-template-columns:1fr; gap: 18px;}
      .requirements{grid-template-columns:repeat(2,minmax(0,1fr)); gap: 12px;}
      .benefits-grid{grid-template-columns:1fr; gap: 20px;}
      .cta-inner{flex-direction:column;align-items:flex-start}
      .stats{grid-template-columns:1fr; gap: 12px;}
      .hero-copy h1 {font-size: 32px;}
      h2 {font-size: 28px;}
      .section {padding: 50px 0;}
      .section-header {margin-bottom: 32px;}
    }
    
    @media (max-width: 768px) {
      .nav-links .nav-link:not(.btn) {display: none;}
      .mobile-menu-btn {display: block;}
    }
    
    @media (max-width: 640px) {
      .nav-links {gap: 10px;}
      .btn {padding: 9px 16px; font-size: 0.92rem;}
      .btn-lg {padding: 10px 22px;}
      .footer-grid {flex-direction: column; gap: 20px;}
      .footer-links {flex-direction: column; gap: 10px;}
      .requirements {grid-template-columns: 1fr; gap: 10px;}
      .hero {padding: 30px 0 24px;}
      .hero-copy h1 {font-size: 28px;}
      h2 {font-size: 26px;}
      .section {padding: 40px 0;}
      .cta {padding: 50px 0;}
      .logos {justify-content: center;}
      .form-card {padding: 20px;}
      .card {padding: 18px;}
      .testimonial {padding: 18px;}
      .stats li {padding: 12px;}
      .benefits-media {height: 200px;}
      .modal-content {padding: 18px;}
      .modal-buttons {flex-direction: column;}
    }
    
    @media (max-width: 480px) {
      .hero-copy h1 {font-size: 26px;}
      h2 {font-size: 24px;}
      .brand {font-size: 1.1rem;}
      .nav-link {font-size: 0.9rem;}
      .btn {font-size: 0.9rem;}
      .hero-points li {font-size: 0.9rem;}
      .subtitle {font-size: 1rem;}
    }
  </style>
</head>
<body>
  <!-- Top Nav -->
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="#top" aria-label="Página principal">IngresosCan</a>
      <nav class="nav-links">
        <a href="#opportunities" class="nav-link">Oportunidades</a>
        <a href="#benefits" class="nav-link">Ventajas</a>
        <a href="#faq" class="nav-link">Preguntas</a>
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menú">☰</button>
        <a href="#" class="btn btn-orange" id="openFormBtn">Comenzar a Ganar</a>
      </nav>
      
      <!-- Mobile Menu -->
      <div class="mobile-menu" id="mobileMenu">
        <a href="#opportunities">Oportunidades</a>
        <a href="#benefits">Ventajas</a>
        <a href="#faq">Preguntas</a>
      </div>
    </div>
  </header>

  <!-- Hero + Form -->
  <section id="top" class="hero">
    <div class="container hero-grid">
      <div class="hero-copy fade-in">
        <span class="urgency-badge">🔥 ¡NUEVAS TAREAS DISPONIBLES!</span>
        <h1>Gana Dinero Extra Desde Casa en Canarias</h1>
        <p class="subtitle">
          🇮🇨 Oportunidades reales de ingresos adicionales para residentes en las Islas Canarias. Tareas flexibles, pagos diarios y sin experiencia necesaria. ¡Perfecto para complementar tus ingresos!
        </p>

        <!-- credibility logos -->
        <div class="logos" aria-label="Tipos de ingresos">
          <span class="logo" aria-label="Tareas Online" title="Tareas Online">Tareas Online</span>
          <span class="logo" aria-label="Encuestas Pagadas" title="Encuestas Pagadas">Encuestas</span>
          <span class="logo" aria-label="Contenido Digital" title="Contenido Digital">Contenido</span>
          <span class="logo" aria-label="Microtareas" title="Microtareas">Microtareas</span>
          <span class="logo" aria-label="Ingresos Flexibles" title="Ingresos Flexibles">Flexible</span>
        </div>

        <ul class="hero-points">
          <li>⏰ Horario 100% flexible - Trabaja cuando quieras</li>
          <li>💳 Pagos diarios - Cobra inmediatamente por tus tareas</li>
          <li>📱 Solo necesitas tu móvil - Sin equipos costosos</li>
          <li>🛡️ 100% seguro - Sin inversión ni cuotas ocultas</li>
          <li>🇪🇸 Soporte en español - Atención directa por WhatsApp</li>
          <li>🌴 Hecho para canarios - Oportunidades locales reales</li>
        </ul>
      </div>

      <aside id="apply" class="form-card fade-in delay-1" aria-label="Formulario de Registro">
        <h2 class="form-title">🚀 Comienza a Ganar Hoy Mismo</h2>
        <p class="form-note"><strong>¡Oportunidad limitada!</strong> Acceso prioritario a nuevas tareas para los primeros registrados. Te contactaremos por WhatsApp al instante.</p>
        
        <div class="progress-bar">
          <div class="progress-step active"></div>
          <div class="progress-step"></div>
          <div class="progress-step"></div>
        </div>

        <form id="applicationForm" novalidate>
          <!-- Honeypot field -->
          <div class="hp-field">
            <label for="hp-email">Email</label>
            <input type="text" id="hp-email" name="hp-email" tabindex="-1" autocomplete="off">
          </div>

          <div class="field">
            <label for="name">Nombre Completo<span class="req">*</span></label>
            <input id="name" name="name" type="text" placeholder="Tu nombre completo" required autocomplete="name" />
            <div class="error-text" id="name-error">Por favor ingresa un nombre válido</div>
          </div>

          <div class="field">
            <label for="phone">Teléfono WhatsApp<span class="req">*</span></label>
            <div class="phone-input-group">
              <div class="country-code">
                <img src="https://flagcdn.com/w20/es.png" alt="Bandera de España" width="20" height="14" style="display:inline-block;vertical-align:middle;margin-right:8px;border-radius:2px;">
                +34
              </div>
              <input id="phone" name="phone" type="tel" class="phone-input" placeholder="6xx xxx xxx" required inputmode="tel" maxlength="9" />
            </div>
            <div class="error-text" id="phone-error">Por favor ingresa un número de teléfono válido de 9 dígitos</div>
          </div>

          <div class="field">
            <label for="age">Edad<span class="req">*</span></label>
            <input id="age" name="age" type="text" placeholder="ej. 28" required inputmode="numeric" maxlength="2" />
            <div class="error-text" id="age-error">Por favor ingresa una edad entre 18 y 65 años</div>
          </div>

          <div class="field check">
            <input id="consent" name="consent" type="checkbox" required style="width: auto; margin-top: 4px;" checked />
            <label for="consent">Acepto la <a href="#privacy">Política de Privacidad</a> y los <a href="#terms">Términos de Uso</a>.</label>
          </div>

          <button type="submit" class="btn btn-orange btn-block pulse" id="submitBtn">
            <span class="btn-text">💰 Quiero Comenzar a Ganar</span>
            <span class="btn-loading" style="display:none;">Enviando...</span>
          </button>
          
          <div class="security-badge">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="#19c37d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 12L11 14L15 10" stroke="#19c37d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Tus datos están seguros y nunca se comparten con terceros</span>
          </div>
          
          <p id="formStatus" class="form-status" role="status" aria-live="polite"></p>
        </form>
      </aside>
    </div>

    <div class="hero-bg" role="img" aria-label="Persona trabajando desde casa con su portátil"></div>
  </section>

  <!-- Success Modal -->
  <div class="modal" id="successModal">
    <div class="modal-content" aria-labelledby="modalTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="modalCloseBtn" aria-label="Cerrar">&times;</button>
      <h3 class="modal-title" id="modalTitle">🎉 ¡Perfecto!</h3>
      <p class="modal-message">Tu registro se ha completado. Haz clic en ACEPTAR para recibir inmediatamente las primeras tareas disponibles por WhatsApp.</p>
      <button class="modal-btn" id="modalOkBtn">ACEPTAR</button>
    </div>
  </div>

  <!-- Exit Intent Modal -->
  <div class="modal" id="exitIntentModal">
    <div class="modal-content" aria-labelledby="exitModalTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="exitModalCloseBtn" aria-label="Cerrar">&times;</button>
      <h3 class="modal-title" id="exitModalTitle">⏳ ¡Un Momento!</h3>
      <p class="modal-message">¿Seguro que quieres perder esta oportunidad de ganar dinero extra? Las mejores tareas se asignan por orden de llegada.</p>
      <div class="modal-buttons">
        <button class="modal-btn" id="continueFormBtn">Sí, Quiero Registrarme</button>
        <button class="modal-btn secondary" id="whatsappFirstBtn">Primero Quiero Ver las Tareas</button>
        <button class="modal-btn outline" id="exitWebsiteBtn">No, Prefiero Salir</button>
      </div>
    </div>
  </div>

  <!-- Form Modal -->
  <div class="modal" id="formModal">
    <div class="modal-content" style="max-width: 500px;" aria-labelledby="modalFormTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="formModalCloseBtn" aria-label="Cerrar">&times;</button>
      <h2 class="form-title" id="modalFormTitle">🚀 Comienza a Ganar Hoy</h2>
      <p class="form-note"><strong>¡Acceso prioritario!</strong> Los primeros registrados reciben las mejores tareas. Te contactamos por WhatsApp al instante.</p>
      
      <div class="progress-bar">
        <div class="progress-step active"></div>
        <div class="progress-step"></div>
        <div class="progress-step"></div>
      </div>

      <form id="modalApplicationForm" novalidate>
        <!-- Honeypot field -->
        <div class="hp-field">
          <label for="modal-hp-email">Email</label>
          <input type="text" id="modal-hp-email" name="hp-email" tabindex="-1" autocomplete="off">
        </div>

        <div class="field">
          <label for="modal-name">Nombre Completo<span class="req">*</span></label>
          <input id="modal-name" name="name" type="text" placeholder="Tu nombre completo" required autocomplete="name" />
          <div class="error-text" id="modal-name-error">Por favor ingresa un nombre válido</div>
        </div>

        <div class="field">
          <label for="modal-phone">Teléfono WhatsApp<span class="req">*</span></label>
          <div class="phone-input-group">
            <div class="country-code">
              <img src="https://flagcdn.com/w20/es.png" alt="Bandera de España" width="20" height="14" style="display:inline-block;vertical-align:middle;margin-right:8px;border-radius:2px;">
              +34
            </div>
            <input id="modal-phone" name="phone" type="tel" class="phone-input" placeholder="6xx xxx xxx" required inputmode="tel" maxlength="9" />
          </div>
          <div class="error-text" id="modal-phone-error">Por favor ingresa un número de teléfono válido de 9 dígitos</div>
        </div>

        <div class="field">
          <label for="modal-age">Edad<span class="req">*</span></label>
          <input id="modal-age" name="age" type="text" placeholder="ej. 28" required inputmode="numeric" maxlength="2" />
          <div class="error-text" id="modal-age-error">Por favor ingresa una edad entre 18 y 65 años</div>
        </div>

        <div class="field check">
          <input id="modal-consent" name="consent" type="checkbox" required style="width: auto; margin-top: 4px;" checked />
          <label for="modal-consent">Acepto la <a href="#privacy">Política de Privacidad</a> y los <a href="#terms">Términos de Uso</a>.</label>
        </div>

        <button type="submit" class="btn btn-orange btn-block pulse" id="modalSubmitBtn">
          <span class="btn-text">💰 Quiero Comenzar a Ganar</span>
          <span class="btn-loading" style="display:none;">Enviando...</span>
        </button>
        
        <div class="security-badge">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="#19c37d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9 12L11 14L15 10" stroke="#19c37d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Tus datos están seguros y nunca se comparten con terceros</span>
        </div>
        
        <p id="modalFormStatus" class="form-status" role="status" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <!-- Opportunities -->
  <section id="opportunities" class="section">
    <div class="container">
      <div class="section-header fade-in">
        <h2>💸 Elige Cómo Ganar Dinero Extra</h2>
        <p class="muted">Diferentes formas de generar ingresos adicionales desde casa. <strong>Tus resultados dependen del tiempo que dediques.</strong></p>
      </div>

      <div class="cards two-col">
        <article class="card fade-in">
          <div class="card-media media-pt"></div>
          <div class="card-body">
            <div class="earnings-badge">Hasta 150€ / semana</div>
            <h3>Ingresos Ocasionales</h3>
            <ul class="list">
              <li><strong>⏰ Tiempo flexible:</strong> 1–2 horas al día</li>
              <li><strong>💳 Pago:</strong> Diario por tareas completadas</li>
              <li><strong>📱 Herramientas:</strong> Solo tu móvil</li>
              <li><strong>🎯 Habilidades:</strong> Básicas, sin experiencia</li>
              <li><strong>🏠 Desde:</strong> Donde quieras en Canarias</li>
              <li><strong>🌊 Perfecto para:</strong> Complementar ingresos</li>
            </ul>
            <a href="#" class="btn btn-orange open-form-btn" style="margin-top: 14px;">Comenzar</a>
          </div>
        </article>

        <article class="card fade-in delay-1">
          <div class="card-media media-ft"></div>
          <div class="card-body">
            <div class="earnings-badge">Hasta 400€+ / semana</div>
            <h3>Ingresos Constantes</h3>
            <ul class="list">
              <li><strong>⏰ Tiempo flexible:</strong> 2–4 horas al día</li>
              <li><strong>💳 Pago:</strong> Diario por tareas completadas</li>
              <li><strong>📱 Herramientas:</strong> Móvil (PC opcional)</li>
              <li><strong>🎯 Habilidades:</strong> Conocimientos digitales básicos</li>
              <li><strong>🏠 Desde:</strong> Tu casa en las islas</li>
              <li><strong>🌊 Perfecto para:</strong> Ingresos adicionales estables</li>
            </ul>
            <a href="#" class="btn btn-orange open-form-btn" style="margin-top: 14px;">Comenzar</a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Flexible Work Bonus -->
  <section class="section alt">
    <div class="container">
      <div class="section-header fade-in">
        <h2>🎁 Gana Más por Tu Constancia</h2>
        <p class="muted">Mantente activo y desbloquea bonos adicionales además de tus ingresos por tareas.</p>
      </div>
      
      <div class="cards three-col">
        <div class="card bonus fade-in">
          <div class="bonus-icon" aria-hidden="true">🎁</div>
          <h3>Primera Semana</h3>
          <p>Bono de bienvenida por completar tareas durante tus primeros 5 días activos.</p>
        </div>
        <div class="card bonus fade-in delay-1">
          <div class="bonus-icon" aria-hidden="true">🏆</div>
          <h3>Tercera Semana</h3>
          <p>Bono incrementado por mantener actividad constante durante 15 días.</p>
        </div>
        <div class="card bonus fade-in delay-2">
          <div class="bonus-icon" aria-hidden="true">⭐</div>
          <h3>Primer Mes</h3>
          <p>Bono máximo de lealtad por 30 días de actividad constante.</p>
        </div>
      </div>
      <p class="muted" style="text-align: center; margin-top: 20px;">Los bonos dependen de la disponibilidad de tareas y tu calidad de trabajo. <strong>Tus ingresos finales varían según tu dedicación.</strong></p>
    </div>
  </section>

  <!-- Job Requirements -->
  <section class="section" aria-labelledby="req-title">
    <div class="container">
      <div class="section-header fade-in">
        <h2 id="req-title">🎯 Lo Básico para Empezar a Ganar</h2>
        <p class="muted">Requisitos simples para comenzar a generar ingresos extra con nosotros.</p>
      </div>
      
      <div class="requirements">
        <div class="req-item fade-in">
          <div class="req-icon">📱</div>
          <div>
            <h4>Teléfono con Internet</h4>
            <p>Android o iOS, conexión estable.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-1">
          <div class="req-icon">💸</div>
          <div>
            <h4>Ganas de Ganar</h4>
            <p>Sigue instrucciones y completa tareas.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-1">
          <div class="req-icon">🎯</div>
          <div>
            <h4>Mayor de 18 años</h4>
            <p>Verificamos edad para cumplir normativas.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-2">
          <div class="req-icon">🤝</div>
          <div>
            <h4>Para Todos</h4>
            <p>Oportunidades inclusivas e igualitarias.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-2">
          <div class="req-icon">⚡</div>
          <div>
            <h4>Conocimientos Básicos</h4>
            <p>Saber usar un móvil y seguir pasos.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Work From Home Benefits -->
  <section id="benefits" class="section alt">
    <div class="container">
      <div class="benefits-grid">
        <div class="benefits-media fade-in"></div>
        <div class="benefits-copy fade-in delay-1">
          <h2>🏠 Gana Dinero Real Desde Donde Quieras</h2>
          <ul class="stats">
            <li><strong>5.000+</strong> canarios registrados</li>
            <li><strong>50.000+</strong> tareas completadas</li>
            <li><strong>95%</strong> satisfacción reportada</li>
            <li><strong>24/7</strong> soporte en español</li>
          </ul>
          <p class="muted">Cifras reales de nuestra plataforma. <strong>Tus ingresos dependen de tu dedicación personal.</strong></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="section">
    <div class="container">
      <div class="section-header fade-in">
        <h2>🌟 Canarios Como Tú Ya Están Ganando</h2>
        <p class="muted">Experiencias reales de personas que generan ingresos extra con nosotros.</p>
      </div>
      
      <div class="cards three-col">
        <blockquote class="testimonial fade-in">
          <div class="avatar">C</div>
          <p>"Tareas sencillas y pagos rápidos. Mi primer ingreso llegó el mismo día. ¡Perfecto para complementar mi sueldo!"</p>
          <footer>— Carla, Las Palmas</footer>
        </blockquote>
        <blockquote class="testimonial fade-in delay-1">
          <div class="avatar">J</div>
          <p>"Lo hago en mis ratos libres. La flexibilidad para ganar dinero extra es exactamente lo que buscaba."</p>
          <footer>— Javier, Tenerife</footer>
        </blockquote>
        <blockquote class="testimonial fade-in delay-2">
          <div class="avatar">M</div>
          <p>"Instrucciones claras y sin complicaciones. Sin cuotas ni sorpresas. ¡Recomendado para canarios!"</p>
          <footer>— Marta, Lanzarote</footer>
        </blockquote>
      </div>
    </div>
  </section>

  <!-- Limited Opportunity -->
  <section class="section cta">
    <div class="container cta-inner fade-in">
      <div>
        <h2>⏰ Oportunidad con Plazas Limitadas</h2>
        <p class="muted">Las mejores tareas se asignan por orden de llegada. Regístrate ahora para asegurar tu acceso prioritario.</p>
      </div>
      <a class="btn btn-orange btn-lg pulse open-form-btn" href="#">💰 Comenzar a Ganar</a>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section alt">
    <div class="container">
      <div class="section-header fade-in">
        <h2>❓ Preguntas Frecuentes</h2>
        <p class="muted">Todo lo que necesitas saber antes de comenzar a ganar.</p>
      </div>
      
      <details class="faq fade-in">
        <summary>¿Hay que pagar algo para registrarse?</summary>
        <div>No. Nunca cobramos por registrarse o usar la plataforma. Es completamente gratuito unirse y comenzar a ganar.</div>
      </details>
      <details class="faq fade-in">
        <summary>¿Cómo y cuándo me pagan?</summary>
        <div>Los pagos se procesan diariamente después de que las tareas pasan el control de calidad. La mayoría recibe su dinero en 24 horas. <strong>Tu ingreso final depende de tu dedicación personal.</strong></div>
      </details>
      <details class="faq fade-in">
        <summary>¿Qué necesito para empezar?</summary>
        <div>Un móvil con internet es suficiente para la mayoría de tareas. No se requiere computadora ni equipos especiales.</div>
      </details>
      <details class="faq fade-in">
        <summary>¿Cómo me contacto con soporte?</summary>
        <div>Todo el soporte es por WhatsApp. Después de registrarte, recibirás atención directa y personalizada.</div>
      </details>
      
      <div class="disclaimer fade-in">
        <strong>⚠️ Transparencia:</strong> Los montos mostrados son ejemplos basados en experiencias reales y no están garantizados. Tus ingresos finales dependerán de tu tiempo, dedicación y calidad de trabajo. Se requiere esfuerzo constante para obtener resultados.
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <a class="brand" href="#top">IngresosCan</a>
        <p class="muted small">Oportunidades reales de ingresos extra. Sin ingresos garantizados. Sin cuotas de registro.</p>
      </div>
      <nav class="footer-links">
        <a id="privacy" href="privacy.html" rel="nofollow">Política de Privacidad</a>
        <a id="terms" href="userterms.html" rel="nofollow">Términos de Uso</a>
      </nav>
    </div>
    <div class="container">
      <p class="muted small">© 2024 IngresosCan. Todos los derechos reservados. Los ingresos mostrados son ejemplos y no están garantizados. Tus ganancias reales dependerán de tu tiempo, dedicación y disponibilidad de tareas. Los resultados varían según cada persona.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // WhatsApp account numbers (Spanish numbers)
      const whatsappAccounts = [
        "17174757026",
        "18735090545"
      ];
      
      // Variables
      const randomAccount = whatsappAccounts[Math.floor(Math.random() * whatsappAccounts.length)];
      const assignedWhatsAppLink = `https://wa.me/${randomAccount}?text=${encodeURIComponent("Hola, estoy interesado en oportunidades para ganar dinero extra desde casa!")}`;
      let formSubmitted = false;
      let exitIntentShown = false;
      
      // DOM Elements
      const form = document.getElementById('applicationForm');
      const modalForm = document.getElementById('modalApplicationForm');
      const formStatus = document.getElementById('formStatus');
      const modalFormStatus = document.getElementById('modalFormStatus');
      const successModal = document.getElementById('successModal');
      const formModal = document.getElementById('formModal');
      const exitIntentModal = document.getElementById('exitIntentModal');
      const modalOkBtn = document.getElementById('modalOkBtn');
      const modalCloseBtn = document.getElementById('modalCloseBtn');
      const formModalCloseBtn = document.getElementById('formModalCloseBtn');
      const exitModalCloseBtn = document.getElementById('exitModalCloseBtn');
      const openFormBtn = document.getElementById('openFormBtn');
      const openFormBtns = document.querySelectorAll('.open-form-btn');
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      const continueFormBtn = document.getElementById('continueFormBtn');
      const whatsappFirstBtn = document.getElementById('whatsappFirstBtn');
      const exitWebsiteBtn = document.getElementById('exitWebsiteBtn');
      const submitBtn = document.getElementById('submitBtn');
      const modalSubmitBtn = document.getElementById('modalSubmitBtn');
      
      // Mobile menu toggle
      mobileMenuBtn.addEventListener('click', function() {
        mobileMenu.classList.toggle('active');
      });
      
      // Close mobile menu when clicking outside
      document.addEventListener('click', function(e) {
        if (!mobileMenu.contains(e.target) && e.target !== mobileMenuBtn) {
          mobileMenu.classList.remove('active');
        }
      });
      
      // WhatsApp link generation
      function generateWhatsAppLink(phoneNumber) {
        const message = encodeURIComponent("Hola, estoy interesado en oportunidades para ganar dinero extra desde casa!");
        return `https://wa.me/${phoneNumber}?text=${message}`;
      }
      
      // Open form modal
      function openFormModal() {
        formModal.classList.add('active');
      }
      
      // Close form modal
      function closeFormModal() {
        formModal.classList.remove('active');
      }
      
      // Open success modal
      function openSuccessModal() {
        successModal.classList.add('active');
      }
      
      // Close success modal
      function closeSuccessModal() {
        successModal.classList.remove('active');
      }
      
      // Show exit intent popup
      function showExitIntentPopup() {
        if (exitIntentShown || formSubmitted) return;
        if (localStorage.getItem('exitIntentShown') === 'true') return;
        
        exitIntentShown = true;
        localStorage.setItem('exitIntentShown', 'true');
        exitIntentModal.classList.add('active');
      }
      
      // Close exit intent modal
      function closeExitIntentModal() {
        exitIntentModal.classList.remove('active');
      }
      
      // Phone number validation (Spanish numbers start with 6 or 7)
      function validatePhoneNumber(phone) {
        const cleaned = phone.replace(/\D/g, '');
        return cleaned.length === 9 && (cleaned.startsWith('6') || cleaned.startsWith('7'));
      }
      
      // Age validation
      function validateAge(age) {
        const ageNum = parseInt(age, 10);
        return !isNaN(ageNum) && ageNum >= 18 && ageNum <= 65;
      }
      
      // Name validation
      function validateName(name) {
        return name.trim().length >= 2;
      }
      
      // Honeypot check
      function checkHoneypot(formElement) {
        const honeypot = formElement.querySelector('input[name="hp-email"]');
        return honeypot.value === '';
      }
      
      // Show error
      function showError(input, errorElement, message) {
        input.classList.add('error');
        errorElement.textContent = message;
        errorElement.classList.add('show');
      }
      
      // Clear error
      function clearError(input, errorElement) {
        input.classList.remove('error');
        errorElement.classList.remove('show');
      }
      
      // Form validation and submission handling
      function handleFormSubmit(e, formElement, statusElement, submitButton) {
        e.preventDefault();
        
        // Honeypot check
        if (!checkHoneypot(formElement)) {
          statusElement.textContent = 'Por favor, envía el formulario nuevamente.';
          statusElement.className = 'form-status error';
          return;
        }
        
        // Clear previous error states
        const inputs = formElement.querySelectorAll('input');
        const errorElements = formElement.querySelectorAll('.error-text');
        inputs.forEach(input => input.classList.remove('error'));
        errorElements.forEach(el => el.classList.remove('show'));
        
        let isValid = true;
        
        // Name validation
        const nameInput = formElement.querySelector('input[name="name"]');
        const nameError = formElement.querySelector('#name-error, #modal-name-error');
        if (!validateName(nameInput.value)) {
          isValid = false;
          showError(nameInput, nameError, 'Por favor ingresa un nombre válido (mínimo 2 caracteres)');
        }
        
        // Phone validation
        const phoneInput = formElement.querySelector('input[name="phone"]');
        const phoneError = formElement.querySelector('#phone-error, #modal-phone-error');
        if (!validatePhoneNumber(phoneInput.value)) {
          isValid = false;
          showError(phoneInput, phoneError, 'Por favor ingresa un número de teléfono válido de 9 dígitos (6xx xxx xxx o 7xx xxx xxx)');
        }
        
        // Age validation
        const ageInput = formElement.querySelector('input[name="age"]');
        const ageError = formElement.querySelector('#age-error, #modal-age-error');
        if (!validateAge(ageInput.value)) {
          isValid = false;
          showError(ageInput, ageError, 'Por favor ingresa una edad entre 18 y 65 años');
        }
        
        // Consent validation
        const consentInput = formElement.querySelector('input[name="consent"]');
        if (!consentInput.checked) {
          isValid = false;
          formElement.querySelector('.field.check label').style.color = '#ff8b8b';
        } else {
          formElement.querySelector('.field.check label').style.color = '';
        }
        
        if (!isValid) {
          statusElement.textContent = 'Por favor completa todos los campos correctamente.';
          statusElement.className = 'form-status error';
          return;
        }
        
        // Loading state
        const btnText = submitButton.querySelector('.btn-text');
        const btnLoading = submitButton.querySelector('.btn-loading');
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline';
        submitButton.disabled = true;
        
        // Form validation successful, show success message
        setTimeout(() => {
          formSubmitted = true;
          openSuccessModal();
          
          // If it's the modal form, close it
          if (formElement === modalForm) {
            closeFormModal();
          }
          
          // Send GA event (async)
          try {
            gtag_report_conversion(assignedWhatsAppLink);
          } catch (error) {
            console.error('Error al enviar evento de GA:', error);
            // Even if GA fails, redirect to WhatsApp
            window.location.href = assignedWhatsAppLink;
          }
          
          // Reset loading state
          btnText.style.display = 'inline';
          btnLoading.style.display = 'none';
          submitButton.disabled = false;
        }, 1000);
      }
      
      // Real-time validation
      function setupRealTimeValidation() {
        // Name validation
        document.querySelectorAll('input[name="name"]').forEach(input => {
          input.addEventListener('input', function() {
            const errorId = this.id === 'name' ? 'name-error' : 'modal-name-error';
            const errorElement = document.getElementById(errorId);
            clearError(this, errorElement);
          });
        });
        
        // Phone validation
        document.querySelectorAll('input[name="phone"]').forEach(input => {
          input.addEventListener('input', function() {
            // Only allow numbers
            this.value = this.value.replace(/\D/g, '');
            const errorId = this.id === 'phone' ? 'phone-error' : 'modal-phone-error';
            const errorElement = document.getElementById(errorId);
            clearError(this, errorElement);
          });
        });
        
        // Age validation
        document.querySelectorAll('input[name="age"]').forEach(input => {
          input.addEventListener('input', function() {
            // Only allow numbers
            this.value = this.value.replace(/\D/g, '');
            const errorId = this.id === 'age' ? 'age-error' : 'modal-age-error';
            const errorElement = document.getElementById(errorId);
            clearError(this, errorElement);
          });
        });
      }
      
      // Exit intent detection
      function setupExitIntentDetection() {
        // Mouse leaving top of window
        document.addEventListener('mouseleave', function(e) {
          if (e.clientY < 0) {
            showExitIntentPopup();
          }
        });
        
        // Before unload (closing tab/window)
        window.addEventListener('beforeunload', function(e) {
          if (!formSubmitted && !exitIntentShown) {
            e.preventDefault();
            e.returnValue = '';
            showExitIntentPopup();
            return '';
          }
        });
        
        // Back button handling
        history.pushState(null, null, document.URL);
        window.addEventListener('popstate', function() {
          showExitIntentPopup();
          history.pushState(null, null, document.URL);
        });
      }
      
      // Event listeners
      form.addEventListener('submit', function(e) {
        handleFormSubmit(e, form, formStatus, submitBtn);
      });
      
      modalForm.addEventListener('submit', function(e) {
        handleFormSubmit(e, modalForm, modalFormStatus, modalSubmitBtn);
      });
      
      openFormBtn.addEventListener('click', function(e) {
        e.preventDefault();
        openFormModal();
      });
      
      openFormBtns.forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          openFormModal();
        });
      });
      
      // Modal close buttons
      modalCloseBtn.addEventListener('click', closeSuccessModal);
      formModalCloseBtn.addEventListener('click', closeFormModal);
      exitModalCloseBtn.addEventListener('click', closeExitIntentModal);
      
      // Exit intent modal actions
      continueFormBtn.addEventListener('click', function() {
        closeExitIntentModal();
        openFormModal();
      });
      
      whatsappFirstBtn.addEventListener('click', function() {
        closeExitIntentModal();
        window.location.href = assignedWhatsAppLink;
      });
      
      exitWebsiteBtn.addEventListener('click', function() {
        closeExitIntentModal();
        // Allow user to actually leave
        window.removeEventListener('beforeunload', arguments.callee);
        window.history.back();
      });
      
      // Close modal by clicking outside
      successModal.addEventListener('click', function(e) {
        if (e.target === successModal) {
          closeSuccessModal();
        }
      });
      
      formModal.addEventListener('click', function(e) {
        if (e.target === formModal) {
          closeFormModal();
        }
      });
      
      exitIntentModal.addEventListener('click', function(e) {
        if (e.target === exitIntentModal) {
          closeExitIntentModal();
        }
      });
      
      // Success modal OK button
      modalOkBtn.addEventListener('click', function() {
        closeSuccessModal();
        window.location.href = assignedWhatsAppLink;
      });
      
      // Add smooth scrolling
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        if (anchor.getAttribute('href') !== '#' && 
            !anchor.classList.contains('open-form-btn') && 
            anchor.id !== 'openFormBtn') {
          anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        }
      });
      
      // Add fade-in animation
      const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);
      
      document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
      });
      
      // Setup functions
      setupRealTimeValidation();
      setupExitIntentDetection();
    });
  </script>
</body>
</html>
